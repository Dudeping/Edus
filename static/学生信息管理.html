<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>学生信息管理</title>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/sweetalert.css"/>
    <link rel="stylesheet" href="css/font-awesome.css"/>
    <link rel="stylesheet" href="css/footable.core.css"/>

    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/footable.all.min.js"></script>
    <script src="js/sweetalert.min.js"></script>
</head>
<body>
<!--返回上一张页面-->
<div style="border: 0" class="panel panel-default">
    <button type="button" class="btn btn-default" onclick="location.href = 'Index.html';">返回</button>
    <button type="button" onclick="location.href = 'Login.html';" class="btn btn-outline btn-success" style="float: right; border: 0">欢迎您，杜德平！点此安全退出<i class="fa fa-sign-out fa-fw"></i> </button>
</div>
<!--标题-->
<div style="border: 0" class="panel panel-default">
    <div class="panel-body">
        <div style="text-align: center; font-size: 40px">学生信息管理</div>
    </div>
</div>
<div style="margin-left: 10px; margin-right: 10px">
    <div class="col-xs-12" style="border: 0">
        <div class="col-xs-8" style="border: 0">
            <!--搜索-->
            <form>
                <div class="form-group input-group">
                    <input type="text" class="form-control" />
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
                </div>
            </form>
        </div>

        <!--新建按钮-->
        <div class="col-xs-4">
            <button type="button" class="btn btn-outline btn-success" data-toggle="modal" data-target="#myModal">
                添加
            </button>
            <!--弹出的新建模态对话框-->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content animated bounceInRight">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span>
                            </button>
                            <h4 class="modal-title">添加学生信息</h4>
                        </div>

                        <div class="modal-body">
                            <form>
                                <div class="form-group"><label>学号</label> <input type="text" id="addNum" placeholder="请输入学生学号" class="form-control"></div>
                                <div class="form-group"><label>姓名</label> <input type="text" id="addName" placeholder="请输入学生姓名" class="form-control"/></div>
                                <div class="form-group"><label>性别</label> <input type="text" id="addSex" placeholder="请输入学生性别" class="form-control"></div>
                                <div class="form-group"><label>班级</label> <input type="text" id="addClass" placeholder="请输入学生班级" class="form-control"/></div>
                                <div class="form-group"><label>学院</label> <input type="text" id="addCollege" placeholder="请输入学生学院" class="form-control"/></div>
                            </form>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-white" data-dismiss="modal" id="addClose">关闭</button>
                            <button type="button" class="btn btn-primary" onclick="AddInfo()">提交</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <br/>
    <!--表格-->
    <table class="footable table table-stripped toggle-arrow-tiny" data-page-size="10">
        <thead>
        <tr>
            <th data-toggle="true">#</th>
            <th>学号</th>
            <th>姓名</th>
            <th data-hide="all">性别</th>
            <th data-hide="all">班级</th>
            <th data-hide="all">学院</th>
            <th>编辑/删除</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1</td>
            <td>0800 051213</td>
            <td>袁岳</td>
            <td>男</td>
            <td>物联网工程201403</td>
            <td>信息工程学院</td>
            <td>
                <button type="button" class="btn btn-outline btn-primary  btn-xs" data-toggle="modal" data-target="#myModal1">编辑</button>
                <button type="button" class="btn btn-outline btn-warning  btn-xs" onclick="DeleteInfo('id')">删除</button>
                <!--编辑时弹出-->
                <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content animated bounceInRight">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span>
                                </button>
                                <h4 class="modal-title">编辑学生信息</h4>
                            </div>

                            <div class="modal-body">
                                <form>
                                    <div class="form-group"><label>学号</label> <input id="editNum_id" type="email" placeholder="请输入学生学号" value="0800 051213" class="form-control"/></div>
                                    <div class="form-group"><label>姓名</label> <input id="editName_id" type="text" placeholder="请输入学生姓名" value="袁岳" class="form-control"/></div>
                                    <div class="form-group"><label>性别</label> <input id="editSex_id" type="email" placeholder="请输入学生性别" value="男" class="form-control"/></div>
                                    <div class="form-group"><label>班级</label> <input id="editClass_id" type="text" placeholder="请输入学生班级" value="物联网工程201403" class="form-control"/></div>
                                    <div class="form-group"><label>学院</label> <input id="editCollege_id" type="text" placeholder="请输入学生学院" value="信息工程学院" class="form-control"/></div>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-white" data-dismiss="modal" id="editClose">关闭</button>
                                <button type="button" class="btn btn-primary" onclick="EidtInfo('id')">提交</button>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>2</td>
            <td>0500 780909</td>
            <td>付守永</td>
            <td>女</td>
            <td>物联网工程201403</td>
            <td>信息工程学院</td>
            <td>
                <button type="button" class="btn btn-outline btn-primary  btn-xs" data-toggle="modal" data-target="#myModal1">编辑</button>
                <button type="button" class="btn btn-outline btn-warning  btn-xs" onclick="DeleteInfo()">删除</button>
            </td>
        </tr>
        <tr>
            <td>3</td>
            <td>0800 051211</td>
            <td>张有为</td>
            <td>男</td>
            <td>物联网工程201403</td>
            <td>信息工程学院</td>
            <td>
                <button type="button" class="btn btn-outline btn-primary  btn-xs" data-toggle="modal" data-target="#myModal1">编辑</button>
                <button type="button" class="btn btn-outline btn-warning  btn-xs" onclick="DeleteInfo()">删除</button>
            </td>
        </tr>
        <tr>
            <td>4</td>
            <td>0648 016977</td>
            <td>李全福 </td>
            <td>女</td>
            <td>物联网工程201403</td>
            <td>信息工程学院</td>
            <td>
                <button type="button" class="btn btn-outline btn-primary  btn-xs" data-toggle="modal" data-target="#myModal1">编辑</button>
                <button type="button" class="btn btn-outline btn-warning  btn-xs" onclick="DeleteInfo()">删除</button>
            </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td colspan="5">
                <ul class="pagination pull-right"></ul>
            </td>
        </tr>
        </tfoot>
    </table>
</div>

<p style="text-align: center; margin-bottom:5em; clear: both">
    Copyright (C) 2016-2016 <a href="http://www.ydath.cn/" target="_blank">第七组</a>. All Rights Reserved
    <br>
    <a href="http://www.miitbeian.gov.cn" target="_blank">蜀ICP备16013628号</a>
</p>
</body>
<script>
    /*删除学生*/
    function DeleteInfo(){
        swal({
                    title: "您确定要删除这条信息吗",
                    text: "删除后将无法恢复，请谨慎操作！",
                    type: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#DD6B55",
                    confirmButtonText: "是的，我要删除！",
                    cancelButtonText: "让我再考虑一下…",
                    closeOnConfirm: false,
                    closeOnCancel: false
                },
                function (isConfirm) {
                    if (isConfirm) {
                        swal("删除成功！", "您已经永久删除了这条信息。", "success");
                    } else {
                        swal("已取消", "您取消了删除操作！", "error");
                    }
                });
    };
    /*添加学生*/
    function AddInfo(){
        var num = document.getElementById('addNum');
        if(num.value == ''){
            swal("提示", "学号为必填项！", "warning");
            num.onfocus();
            return;
        }
        var name = document.getElementById('addName');
        if(name.value == ''){
            swal("提示", "姓名为必填项！", "warning");
            name.onfocus();
            return;
        }
        var sex = document.getElementById('addSex');
        if(sex.value == ''){
            swal("提示", "性别为必填项！", "warning");
            sex.onfocus();
            return;
        }
        var _class = document.getElementById('addClass');
        if(_class.value == ''){
            swal("提示", "班级为必填项！", "warning");
            _class.onfocus();
            return;
        }
        var college = document.getElementById('addCollege');
        if(college.value == ''){
            swal("提示", "学院为必填项！", "warning");
            college.onfocus();
            return;
        }
        /*AJAX提交，*/
        swal({
            title: "成功",
            text: "添加学生成功！",
            type: "success"
        }, function () {
            document.getElementById('addClose').focus();
            document.getElementById('addClose').click();
        });
    }
    /*编辑学生*/
    function EidtInfo(id){
        var num = document.getElementById('editNum_id');
        if(num.value == ''){
            swal("提示", "学号为必填项！", "warning");
            num.onfocus();
            return;
        }
        var name = document.getElementById('editName_id');
        if(name.value == ''){
            swal("提示", "姓名为必填项！", "warning");
            name.onfocus();
            return;
        }
        var sex = document.getElementById('editSex_id');
        if(sex.value == ''){
            swal("提示", "性别为必填项！", "warning");
            sex.onfocus();
            return;
        }
        var _class = document.getElementById('editClass_id');
        if(_class.value == ''){
            swal("提示", "班级为必填项！", "warning");
            _class.onfocus();
            return;
        }
        var college = document.getElementById('editCollege_id');
        if(college.value == ''){
            swal("提示", "学院为必填项！", "warning");
            college.onfocus();
            return;
        }
        /*AJAX提交，*/
        swal({
            title: "成功",
            text: "编辑学生成功！",
            type: "success"
        }, function () {
            document.getElementById('editClose').focus();
            document.getElementById('editClose').click();
        });
    }
</script>
<script>
    /*表格初始化*/
    $(document).ready(function() {
        $('.footable').footable();
    });
</script>
</html>